.contents {
	display: flex;
	flex-direction: column;
	gap: 1rem;
	overflow-y: auto;

	h3, p {
		margin: 0;
	}

	.modal-description {
		color: var(--text-color-secondary);
		font-size: 0.95rem;
	}

	.success-message,
	.error-message {
		color: var(--text-color-secondary);
		text-align: center;
		font-size: 0.95rem;
	}

	.success-message {
		color: var(--success-color, #10b981);
	}

	.error-message {
		color: var(--error-color, #ef4444);
		padding: 0.75rem;
		background-color: rgba(239, 68, 68, 0.1);
		border-radius: 0.5rem;
	}

	.form-group {
		display: flex;
		flex-direction: column;
		gap: 0.5rem;

		label {
			font-weight: 500;
			color: var(--text-color);
			font-size: 0.95rem;
		}

		.context-input {
			padding: 0.75rem;
			border: 1px solid var(--border-color);
			border-radius: 0.5rem;
			background-color: var(--input-background);
			color: var(--text-color);
			font-family: inherit;
			font-size: 0.95rem;
			resize: vertical;
			min-height: 100px;
			max-height: 200px;

			&:focus {
				outline: none;
				border-color: var(--primary-color);
			}
		}
	}

	.unclear-items-list {
		display: flex;
		flex-direction: column;
		gap: 1rem;
		border: 1px solid var(--border-color);
		border-radius: 0.5rem;
		padding: 1rem;
		background-color: var(--secondary-background-color, rgba(0, 0, 0, 0.02));
		max-height: 400px;
		overflow-y: auto;

		.unclear-item {
			display: flex;
			flex-direction: column;
			gap: 0.75rem;
			padding: 1rem;
			background-color: var(--background-color);
			border: 1px solid var(--border-color);
			border-radius: 0.5rem;

			.item-header {
				display: flex;
				align-items: flex-start;

				.item-info {
					display: flex;
					flex-direction: column;
					gap: 0.25rem;
					flex: 1;

					.item-location {
						font-family: monospace;
						font-size: 0.85rem;
						color: var(--text-color-secondary);
						font-weight: 500;
					}

					.item-reason {
						font-size: 0.9rem;
						color: var(--text-color);
						font-style: italic;
					}
				}
			}

			.code-snippet {
				background-color: var(--secondary-background-color, rgba(0, 0, 0, 0.02));
				border: 1px solid var(--border-color);
				border-radius: 0.375rem;
				padding: 0.75rem;
				overflow-x: auto;

				code {
					font-family: monospace;
					font-size: 0.85rem;
					color: var(--text-color-secondary);
					white-space: pre-wrap;
					word-break: break-word;
				}
			}

			.clarification-input-group {
				display: flex;
				flex-direction: column;
				gap: 0.5rem;

				label {
					font-weight: 500;
					color: var(--text-color);
					font-size: 0.9rem;
				}

				.clarification-input {
					padding: 0.75rem;
					border: 1px solid var(--border-color);
					border-radius: 0.5rem;
					background-color: var(--input-background);
					color: var(--text-color);
					font-family: inherit;
					font-size: 0.95rem;
					resize: vertical;
					min-height: 80px;
					max-height: 150px;

					&:focus {
						outline: none;
						border-color: var(--primary-color);
						box-shadow: 0 0 0 2px var(--primary-color-alpha, rgba(59, 130, 246, 0.1));
					}
				}
			}
		}
	}

	.comments-list {
		display: flex;
		flex-direction: column;
		gap: 1rem;
		border: 1px solid var(--border-color);
		border-radius: 0.5rem;
		padding: 1rem;
		background-color: var(--secondary-background-color, rgba(0, 0, 0, 0.02));
		max-height: 400px;
		overflow-y: auto;

		.comment-item {
			display: flex;
			flex-direction: column;
			gap: 0.5rem;
			padding: 0.75rem;
			background-color: var(--background-color);
			border: 1px solid var(--border-color);
			border-radius: 0.5rem;
			transition: opacity 0.2s;

			&.unchecked {
				opacity: 0.6;
			}

			.comment-header {
				display: flex;
				align-items: center;
				gap: 0.5rem;

				.comment-checkbox {
					cursor: pointer;
					width: 18px;
					height: 18px;
				}

				.comment-location {
					font-family: monospace;
					font-size: 0.85rem;
					color: var(--text-color-secondary);
					font-weight: 500;
					flex: 1;
				}

				.edit-btn {
					background: none;
					border: none;
					cursor: pointer;
					font-size: 1rem;
					padding: 0.25rem;
					opacity: 0.7;
					transition: opacity 0.2s;

					&:hover {
						opacity: 1;
					}
				}
			}

			.comment-text {
				margin: 0;
				color: var(--text-color);
				font-size: 0.95rem;
				line-height: 1.5;
				padding: 0 0 0 1.5rem;
			}

			.comment-textarea {
				padding: 0.75rem;
				border: 1px solid var(--primary-color);
				border-radius: 0.5rem;
				background-color: var(--input-background);
				color: var(--text-color);
				font-family: inherit;
				font-size: 0.95rem;
				resize: vertical;
				min-height: 100px;
				margin-left: 1.5rem;

				&:focus {
					outline: none;
					box-shadow: 0 0 0 2px var(--primary-color-alpha, rgba(59, 130, 246, 0.1));
				}
			}

			.edit-actions {
				display: flex;
				justify-content: flex-end;
				gap: 0.5rem;
				margin-left: 1.5rem;
				margin-top: 0.25rem;

				button {
					padding: 0.5rem 1rem;
					font-size: 0.85rem;
				}
			}
		}
	}

	.spinner {
		width: 40px;
		height: 40px;
		border: 4px solid var(--border-color);
		border-top-color: var(--primary-color);
		border-radius: 50%;
		animation: spin 0.8s linear infinite;
		margin: 1rem auto;
	}

	.modal-actions {
		display: flex;
		justify-content: flex-end;
		gap: 0.75rem;
		margin-top: 0.5rem;

		button {
			padding: 0.6rem 1.25rem;
			font-size: 0.95rem;
			font-weight: 500;

			&:disabled {
				opacity: 0.5;
				cursor: not-allowed;
			}
		}
	}
}

@keyframes spin {
	to {
		transform: rotate(360deg);
	}
}
